(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(47)},38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),o=(n(38),n(2)),c=n(5),u=n(8),l=n(7),s=n(9),m=n(3),d=n(4),p=n(29),h=n(15),f=n(19);function b(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    & input {\n        color: white;\n        text-align: center;\n        font-family: monospace;\n        font-size: 1em;\n        max-width: 50px;\n        width: 100%;\n        background: transparent;\n        outline: none;\n        border: none;\n        border-bottom: 1px solid rgb(200,200,200);\n        margin: 0px 1.5px\n    }\n    & input::-webkit-outer-spin-button, & input[type=\"number\"]::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    & input[type='number'] {\n        -moz-appearance: textfield;\n    }\n    \n    & input:focus {\n        border-bottom: 1px solid rgb(255,255,255);\n    }\n    & input:read-only, & input:disabled {\n        background: gray;\n    }\n    & input[readonly] {\n        pointer-events: none;\n    }\n"]);return b=function(){return e},e}var v=d.b.form(b()),y="Backspace",g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e)))._validate=function(e,t,n){if(isNaN(e))return!1;var a=Number(e),r=Number(n);return a>=Number(t)&&a<=r},n.onChange=function(e){e.persist();var t=e.target,a=t.dataset,r=t.value,i=t.min,o=t.max;if(!n._validate(r,i,o))return!1;console.log({name:"onChange",evt:e,value:r,min:i,max:o,dataset:a});var c=parseInt(a.id),u=Object(f.a)(n.state.values);u[c]=r;var l=u.every(function(e){return"undefined"!==typeof e&&""!==e&&n._validate(e,i,o)});n.setState({values:u,isRowValid:l})},n.onKeyUp=function(e){e.preventDefault();var t=e.target.dataset,a=e.charCode,r=e.key,i=parseInt(t.id);console.log({name:"onKeyUp",evt:e,charCode:a,key:r}),r===y?n["input".concat(i-1)]&&n["input".concat(i-1)].focus():isNaN(r)||n["input".concat(i+1)]&&n["input".concat(i+1)].focus()},n.onSubmit=function(e){e.preventDefault();var t=n.state.values.map(function(e){return parseInt(e,10)});n.props.onEntered({values:t,id:n.props.id})},n.refSubmitButton=r.a.createRef(),n.state={values:n.props.initialValues,isRowValid:!1},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.focus&&this.input0.focus()}},{key:"componentDidUpdate",value:function(e){e.focus!==this.props.focus&&(this.props.focus?this.input0.focus():this.input0.blur())}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.played,i=this.state,o=i.values,c=i.isRowValid;return r.a.createElement(v,{autoComplete:"off",onSubmit:this.onSubmit},o.map(function(t,a){return r.a.createElement("input",{onFocus:e.onFocus,autoComplete:"off","aria-label":"input_".concat(a),"data-id":a,key:a,value:t,name:"input_".concat(a),onKeyUp:e.onKeyUp,onChange:e.onChange,disabled:n,ref:function(t){return e["input".concat(a)]=t},type:"number",min:"0",max:"9"})}),r.a.createElement(E,{size:"s",ref:this.refSubmitButton,type:"submit",disabled:a||!c},"CheckRow"))}}]),t}(a.Component);function j(){var e=Object(m.a)(["\n            width: 7rem\n        "]);return j=function(){return e},e}function w(){var e=Object(m.a)(["\n    border-radius: 3px;\n    padding: 0.5rem 0;\n    width: 11rem;\n    ",";\n    background: transparent;\n    color: white;\n    border: 2px solid white;\n    cursor: pointer;\n    transition: background .2s ease;\n    outline:none;\n    &:hover:not([disabled]) {\n        background: white;\n        color: black;\n    }\n    &:focus:not([disabled]) {\n        box-shadow:0 0 10px #9ecaed;\n    }\n    &:disabled {\n        color: gray;\n        border: 2px solid gray;\n        opacity: 0.85;\n    }\n"]);return w=function(){return e},e}g.defaultProps={readOnly:!1,initialValues:[],focus:!1};var E=d.b.button(w(),function(e){return"s"===e.size&&Object(d.a)(j())}),O=n(10);function x(){var e=Object(m.a)(["\n    font-size: .8rem;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    text-align: left;\n    font-size: .8rem;\n"]);return x=function(){return e},e}function k(){var e=Object(m.a)(["\n    display: flex; \n    justify-content: space-between;\n    margin-bottom: 10px;\n"]);return k=function(){return e},e}function S(){var e=Object(m.a)(["\n    width: 100%;\n    min-height: 350px;\n    background: rgba(255,255,255, 0.3);\n    padding: 1rem 2rem;\n    border-radius: 10px;\n\n    & tbody tr {\n        opacity: 0.35;\n    }\n    & tbody tr.active {\n        opacity: 1;\n        & td:first-child {\n            width: 80%;\n        }\n        & td:last-child {\n            width: 20%;\n        }\n    }\n\n    & tr td {\n\n    }\n\n    & tfoot tr td {\n        text-align: center;\n    }\n"]);return S=function(){return e},e}function A(){var e=Object(m.a)(["\n  max-width: 700px;\n  width: 100%;\n"]);return A=function(){return e},e}var C=d.b.div(A()),R=d.b.table(S()),P=d.b.div(k()),D=d.b.div(x()),N=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).gotToGameOver=function(){n.props.history.push("/gameover")},n.onInputsEnter=function(e){var t=e.values,a=e.id;console.log("onInputs",{values:t,id:a});var r=n.props.gameStore;r.playAttempt({values:t}),r.hasFinished&&n.gotToGameOver()},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.gameStore.hasStarted||this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props.gameStore,n=t.currentRow,a=t.remainingAttempts,i=t.attempts;return r.a.createElement(C,null,r.a.createElement(P,null,r.a.createElement(D,null,"Remaining Attempts ",a)),r.a.createElement(R,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Attempts"),r.a.createElement("th",null,r.a.createElement("div",null,"Results:"),r.a.createElement("div",{style:{fontSize:".7rem"}},"Right Number and Place | Wrong Place")))),r.a.createElement("tbody",null,i.map(function(t,a){return r.a.createElement("tr",{className:n===a?"active":void 0,key:a},r.a.createElement("td",null,r.a.createElement(g,{focus:n===a,initialValues:i[a].values,id:a,onEntered:e.onInputsEnter,disabled:n!==a,played:i[a].played})),r.a.createElement("td",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("span",{style:{flex:1,textAlign:"center"}},i[a].whites),r.a.createElement("span",{style:{flex:1,textAlign:"center"}},i[a].blacks))))})),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"70%"}}),r.a.createElement("td",{style:{width:"30%"}},r.a.createElement(E,{onClick:this.gotToGameOver},"Show Solution"))))))}}]),t}(a.Component),B=Object(O.b)("gameStore")(Object(O.c)(N));function W(){var e=Object(m.a)(["\n  max-width: 700px;\n  background: rgba(255,255,255,0.3);\n  min-height: 150px;\n  border-radius: 5px;\n  padding: 1rem 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-top: 5px;\n"]);return W=function(){return e},e}function T(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  & ",":first-child {\n    margin-right: 5px;\n  } \n"]);return T=function(){return e},e}var M=d.b.div(T(),E),F=d.b.div(W()),z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center"}},"Top 5"),e.length>0?r.a.createElement("ol",null,e.map(function(e){return console.log(e),r.a.createElement("li",null,r.a.createElement("div",null,e.name),r.a.createElement("div",null,e.max))})):r.a.createElement("span",null,"still empty :("))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onRestart=function(){var e=n.props,t=e.history;e.gameStore.start(),t.push("/play")},n.onBack=function(){var e=n.props,t=e.history;e.gameStore.reset(),t.push("/")},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gameStore,n=e.leaderBoardStore;return r.a.createElement("div",null,r.a.createElement(F,null,r.a.createElement("div",null,r.a.createElement("div",null,t.currentPlayer.name),r.a.createElement("div",null,r.a.createElement("div",null,t.currentPlayer," ",t.hasWon?"WON!":"LOOSE"),r.a.createElement("div",null,"Solution was: ",t.currentSecretCode.join(", ")))),r.a.createElement(M,null,r.a.createElement(E,{onClick:this.onRestart},"Restart"),r.a.createElement(E,{onClick:this.onBack},"Go To Home"))),r.a.createElement(F,null,r.a.createElement(z,{items:n.getRanking()})))}}]),t}(a.Component),G=Object(O.b)("gameStore","leaderBoardStore")(Object(O.c)(I));function V(){var e=Object(m.a)(["\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return V=function(){return e},e}function U(){var e=Object(m.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  & label {\n    flex: 1;\n  }\n  & input {\n    flex: 1;\n    margin-left: 5px;\n  }\n"]);return U=function(){return e},e}var _=d.b.div(U()),K=d.b.div(V()),J=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=n.props.gameStore,a=e.target,r=a.name,i=a.value;"attempts"===r?t.maxAttempts=parseInt(i,10):"difficulty"===r?t.difficulty=parseInt(i,10):"player"===r&&t.setPlayerName({name:i})},n.startGame=function(){n.props.gameStore.start(),n.props.history.push("/play")},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.gameStore;return console.log({gameStore:e}),r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement("label",{htmlFor:"difficulty"},"Difficulty:"),r.a.createElement("input",{type:"number",min:3,value:e.difficulty,name:"difficulty",onChange:this.onChange})),r.a.createElement(_,null,r.a.createElement("label",{htmlFor:"attempts"},"Max attempts:"),r.a.createElement("input",{type:"number",value:e.maxAttempts,min:3,name:"attempts",onChange:this.onChange})),r.a.createElement(_,null,r.a.createElement("label",{htmlFor:"attempts"},"PlayerName:"),r.a.createElement("input",{type:"text",name:"player",value:e.currentPlayer,onChange:this.onChange})),r.a.createElement(K,null,r.a.createElement(E,{onClick:this.startGame},"Start")))}}]),t}(a.Component),q=Object(O.b)("gameStore")(Object(O.c)(J)),H=r.a.createElement(p.a,{basename:"/mastermind"},r.a.createElement(h.a,{exact:!0,path:"/",component:q}),r.a.createElement(h.a,{path:"/play",component:B}),r.a.createElement(h.a,{path:"/gameover",component:G}));function L(){var e=Object(m.a)(["\n    background-color: #282c34;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n    height: 100%;\n    overflow: hidden auto;\n    font-size: calc(10px + 2vmin);\n    color: white;\n"]);return L=function(){return e},e}function $(){var e=Object(m.a)(["\n  font-size: 10px;\n  padding: 10px 0px;\n"]);return $=function(){return e},e}function Q(){var e=Object(m.a)(["\n  & h1 {\n    margin: 0;\n    padding: 0;\n    font-family: monospace;\n  }\n"]);return Q=function(){return e},e}var X=d.b.header(Q()),Y=d.b.footer($()),Z=d.b.div(L()),ee=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Z,null,r.a.createElement(X,null,r.a.createElement("h1",null,"MasterMind!")),H,r.a.createElement(Y,null,r.a.createElement("strong",null,"madeBy @eatsjobs"),", 2019"))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"Android",value:function(){return navigator.userAgent.match(/Android/i)}},{key:"BlackBerry",value:function(){return navigator.userAgent.match(/BlackBerry/i)}},{key:"iOS",value:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"Windows",value:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)}},{key:"isMobile",value:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Windows()}}]),e}());var te=n(1),ne=function(){function e(t){var n=this;Object(o.a)(this,e),this.addScore=function(e){n.games.push(e)},this.name=t,this.uuid=++e.uuid,this.games=[]}return Object(c.a)(e,[{key:"max",get:function(){return Math.max.apply(Math,Object(f.a)(this.games.map(function(e){return e.score})))}},{key:"average",get:function(){return 0}},{key:"lastGame",get:function(){return this.games.slice(-1)[0]}}]),e}();ne.uuid=0,Object(te.h)(ne,{name:te.m});var ae=ne,re=new(function(){function e(){Object(o.a)(this,e),this.save=function(){},this.load=function(){},this.players=[]}return Object(c.a)(e,[{key:"addScore",value:function(e,t){var n=this.players.find(function(t){return t.name===e});if(n)return n.addScore(t);var a=new ae(e);a.addScore(t),this.players.push(a)}},{key:"getRanking",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).top,t=void 0===e?5:e;return this.players.sort(function(e,t){return t.max-e.max}).slice(0,t)}}]),e}()),ie=function e(t){Object(o.a)(this,e),this.values=new Array(t).fill(""),this.whites=0,this.blacks=0,this.played=!1};Object(te.h)(ie,{values:te.m,whites:te.m,blacks:te.m,played:te.m});var oe=function(){function e(){var t=this;Object(o.a)(this,e),this.playAttempt=function(e){var n=e.values,a=t.attempts[t.currentRow];a.values=n;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attempt,n=e.code;if(t.length!==n.length)return!1;var a=n.length,r=n.slice(),i=t.slice(),o=0,c=0,u=0,l=0;for(u=0;u<a;u++)if(r[u]!==i[u]){for(l=0;l<a;l++)if(r[l]===i[u]){r[l]===i[l]?c++:o++,r[l]=-1;break}}else r[u]=-1,c++;return{rightNumberRightPlace:c,rightNumberWrongPlace:o,black:c,white:o}}({attempt:n,code:t.currentSecretCode}),i=r.rightNumberRightPlace,o=r.rightNumberWrongPlace;return a.whites=i,a.blacks=o,a.played=!0,t.attempts[t.currentRow]=a,a.whites===t.difficulty?(t.hasFinished=!0,t.hasStarted=!1,t.hasWon=!0,t.endDateTime=new Date,void re.addScore(t.currentPlayer,t.serialize())):0===t.remainingAttempts?(t.hasStarted=!1,void(t.hasFinished=!0)):void t.currentRow++},this.setPlayerName=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;t.currentPlayer=e},this.start=function(){t.currentSecretCode=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).difficulty,t=void 0===e?3:e,n=[],a=0;a<t;a++)n.push(parseInt(9*Math.random()));return n}({difficulty:t.difficulty}),t.attempts=function(e){var t=e.maxAttempts,n=e.difficulty;return new Array(t).fill(1).map(function(){return new ie(n)})}({maxAttempts:t.maxAttempts,difficulty:t.difficulty}),t.currentRow=0,t.hasWon=!1,t.hasFinished=!1,t.hasStarted=!0,t.score=0;var e=new Date;t.startDateTime=e,t.endDateTime=e},this.reset=function(){t.currentSecretCode=[],t.difficulty=4,t.maxAttempts=15,t.attempts=[],t.currentRow=0,t.score=0,t.hasWon=!1,t.hasFinished=!1,t.hasStarted=!1,t.currentPlayer="Anonymous"},this.serialize=function(){var e={moves:t.currentRow,difficulty:t.difficulty,hasWon:t.hasWon,duration:t.endDateTime-t.startDateTime,secretCode:t.currentSecretCode,startDateTime:t.startDateTime,endDateTime:t.endDateTime,score:t.score};return e.score=function(e){var t=e.difficulty,n=e.duration,a=Math.sqrt,r=Math.round,i=Math.pow;return r(1/a(n/1e3)*10+i(t,5))}(e),e},this.currentRow=0,this.difficulty=4,this.maxAttempts=15,this.hasWon=!1,this.hasStarted=!1,this.hasFinished=!1,this.score=0,this.currentPlayer="Anonymous",this.currentSecretCode=[],this.attempts=[]}return Object(c.a)(e,[{key:"remainingAttempts",get:function(){return this.attempts.filter(function(e){return!e.played}).length}}]),e}();Object(te.h)(oe,{remainingAttempts:te.e,start:te.d,playAttempt:te.d,setPlayerName:te.d,reset:te.d,currentPlayer:te.m,hasWon:te.m,hasFinished:te.m,currentRow:te.m,attempts:te.m,maxAttempts:te.m,difficulty:te.m});var ce=new oe;Object(i.render)(r.a.createElement(O.a,{gameStore:ce,leaderBoardStore:re},r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.cb828cc6.chunk.js.map